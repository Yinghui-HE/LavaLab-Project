DROP DATABASE IF EXISTS AlDenteDB;
CREATE DATABASE AlDenteDB;
USE AlDenteDB;

CREATE TABLE UserProfile (
	UserID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Email VARCHAR(30) NOT NULL, 
    Name VARCHAR(30) NOT NULL, 
    Password VARCHAR(30) NOT NULL, 
    PicURL VARCHAR(1000) NOT NULL,
    Location VARCHAR(30)
); 

CREATE TABLE Followers (
	FollowshipID INT PRIMARY KEY AUTO_INCREMENT,
    UserID INT NOT NULL, 
    FollowerID INT NOT NULL, 
	FOREIGN KEY fk1 (UserID) REFERENCES UserProfile(UserID),
    FOREIGN KEY fk2 (FollowerID) REFERENCES UserProfile(UserID)
); 

CREATE TABLE Restaurant (
	RestaurantID INT PRIMARY KEY AUTO_INCREMENT,
	rName VARCHAR(100) NOT NULL,
    rLongitude FLOAT NOT NULL, 
    rLatitude FLOAT NOT NULL, 
    rRating FLOAT NOT NULL,
    rPicURL VARCHAR(1000) NOT NULL,
    rAddress VARCHAR(1000) NOT NULL
);

CREATE TABLE UserRestaurantList (
	UserRestaurantID INT PRIMARY KEY AUTO_INCREMENT,
	UserID INT,
	RestaurantID INT,
    IsFavorite INT, 
    FOREIGN KEY fk1 (UserID) REFERENCES UserProfile(UserID),
    FOREIGN KEY fk2 (RestaurantID) REFERENCES Restaurant(RestaurantID)
);
